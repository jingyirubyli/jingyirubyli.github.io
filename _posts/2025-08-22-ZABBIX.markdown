---
layout: post
title:  Zabbix
date:   2025-08-22
description: You’ll find this post in your `_posts` directory. Go ahead and edit it and re-build the site to see your changes. # Add post description (optional)
img: zabbix.png # Add image post (optional)
tags: [Blog, Web]
author: # Add name author (optional)
---
# 本讲内容

- [本讲内容](#本讲内容)
  - [Zabbix 介绍](#zabbix-介绍)
    - [zabbix的构成](#zabbix的构成)
    - [zabbix的监控对象](#zabbix的监控对象)
    - [zabbix的常用术语](#zabbix的常用术语)
  - [Zabbix 安装和配置](#zabbix-安装和配置)


---

## Zabbix 介绍

### zabbix的构成

zabbix主要由以下5个组件构成：

1、Server

zabbix server是zabbix的核心组件，server内部存储了所有的配置信息、统计信息和操作信息。zabbix agent会向zabbix server报告可用性、完整性及其他统计信息。

2、web页面

web页面也是zabbix的一部分，通常和zabbix server位于一台物理设备上，但是在特殊情况下也可以分开配置。web页面主要提供了直观的监控信息，以方便运维人员监控管理。

3、数据库

zabbix数据库内存储了配置信息、统计信息等zabbix的相关内容。

4、proxy

zabbix proxy可以根据具体生产环境进行采用或者放弃。如果使用了zabbix proxy，则其会替代zabbix server采集数据信息，可以很好的分担zabbix server的负载。zabbix proxy通常运用与架构过大、zabbix server负载过重，或者是企业设备跨机房、跨网段、zabbix server无法与zabbix agent直接通信的场景。

5、Agent

zabbix agent通常部署在被监控目标上，用于主动监控本地资源和应用程序，并将监控的数据发送给zabbix server。


### zabbix的监控对象

zabbix支持监控各种系统平台，包括Linux和Windows等主流操作系统，也可以借助SNMP或者是SSH协议监控路由交换设备。

zabbix如果部署在服务器上，可以监控其CPU、内存、网络性能等硬件参数，也可以监控具体的服务或者应用程序、服务运行情况及性能。

硬件监控：Zabbix IPMI Interface ，通过IPMI接口进行监控，我们可以通过标准的IPMI硬件接口，监控被监控对象的物理特征，比如电压、温度、风扇状态、电源状态等。

系统监控：Zabbix Agent Interface ，通过专用的代理程序进行监控，与常见的master/agent模型类似，如果被监控对象支持对应的agent，推荐首选这种方式。

Java监控：Zabbix JMX Interface ，通过JMX进行监控，JMX（java management extensions，即java管理扩展），监控JVM虚拟机时，使用这种方法是非常不错的选择。

网络设备监控：Zabbix SNMP Interface ，通过SNMP协议与被监控对象进行通信，SNMP协议的全称为simple network management protocol，被译为简单网络管理协议，通常来说，我们无法在路由器、交换机这种硬件上安装agent，但是这些硬件都支持SNMP协议。

应用服务监控：Zabbix Agent UserParameter

MySQL数据库监控：percona-monitoring-plulgins   

URL监控：Zabbix Web 监控


### zabbix的常用术语

1、主机（host）

要监控的设备，可以由IP或者是主机名（必须可解析）指定。

2、主机组（host group）

主机的逻辑容器，包含主机和模板，主机组通常在给用户或者是用户组指派监控权限时使用。

3、监控项（item）

一个特定监控指标的相关数据，比如内存的大小、CPU的使用率，甚至是服务的运行状态等等。监控项数据来源于被监控对象，并且每个监控项都由一个key来标识。

4、触发器（trigger）

一个表达式，用于评估监控项的值是否在合理的范围内。当接收的值超出触发器的规定时，就被认为是故障，如果超出后再次符合，就被认为是正常。

5、事件（event）

触发器触发的一个特定事件，或者是zabbix定义的一个自动上线注册主机的事件。

6、动作（action）

指根据配置，zabbix对于触发器触发的特定事件进行处理的具体措施，如执行某个脚本，或者是向管理员邮箱发送邮件等等。

7、报警升级（escalation）

发送警报或者是执行远程命令的自定义方案。

8、媒介（media）

发送通知（告警）的手段，如微信、邮件、钉钉等等。

9、通知（notification）

通过指定的媒介，向用户发送的有关事件的信息。

10、远程命令（remote command）

指运维人员提前写好的命令，可以让被监控主机在触发事件后执行。

11、模板（template）

用于快速定义被监控主机的预设条目集合，通常包括了监控项、触发器、应用等，模板可以直接链接至某个主机。

12、应用（application）

一组监控项的集合。

13、web场景（web scennario）

用于检测web站点可用性的一个或多个HTTP请求。

14、前端（frontend）

zabbix的web接口。


zabbix程序组件
- Zabbix_server，服务端守护进程
- Zabbix_agentd， agent守护进程
- zabbix_proxy，代理服务器
- zabbix_database，存储系统，mysql, pgsql
- Zabbix_web， web GUI图形化界面
- Zabbix_get，命令行工具，测试向agent发起数据采集请求
- Zabbix_sender，命令行工具，测试向server发送数据
- Zabbix_java_gateway, java网关


---

## Zabbix 安装和配置

仔细读官方文档: [Zabbix中文文档][中文]
[Zabbix英文文档][英文]

[中文]: https://www.zabbix.com/documentation/current/zh/manual/installation/
[英文]: https://www.zabbix.com/documentation/current/en/manual/installation/


./configure --sysconfdir=/usr/local/etc/zabbix --enable-agent --enable-ipv6 --with-openssl=/opt/homebrew/opt/openssl@3

<figure style="text-align: center;">
<img src="/assets/img/zabbix1.png" alt="" width="500">
<figcaption>Thank you for using Zabbix!</figcaption>
</figure>